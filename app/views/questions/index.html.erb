<div class="container mt-4">
 <div class="d-flex justify-content-between align-items-center mb-4">
   <h2>質問一覧</h2>
   <%= link_to "新しい質問を投稿", new_question_path, class: "btn btn-primary" if user_signed_in? %>
 </div>

 <div class="questions">
   <% @questions.each do |question| %>
     <div class="card mb-3">
       <div class="card-body">
         <div class="d-flex justify-content-between">
           <h5 class="card-title">
             <%= link_to "#{question.choice_one} vs #{question.choice_two}", question_path(question), class: "text-decoration-none" %>
           </h5>
           <small class="text-muted">
             投稿者: <%= question.user.name %> - 
             <%= time_ago_in_words(question.created_at) %>前
           </small>
         </div>

         <div class="row">
            <div class="col-md-6">
              <% if question.choice_one_image.present? %>
                <%= image_tag question.choice_one_image.url, class: "img-fluid" %>
              <% else %>
                <%= image_tag "no_image.png", class: "img-fluid" %>
              <% end %>
              <p class="mt-2"><%= question.choice_one %></p>
            </div>
            
            <div class="col-md-6">
              <% if question.choice_two_image.present? %>
                <%= image_tag question.choice_two_image.url, class: "img-fluid" %>
              <% else %>
                <%= image_tag "no_image.png", class: "img-fluid" %>
              <% end %>
              <p class="mt-2"><%= question.choice_two %></p>
            </div>
         </div>
        
         
         <div class="mt-3">
           <span class="badge bg-primary">回答数: <%= question.answers.count %></span>
         </div>
       </div>
     </div>
   <% end %>
 </div>
</div>